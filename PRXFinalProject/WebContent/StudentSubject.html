<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mark Management</title>
<link rel="stylesheet" type="text/css" href="css/Header.css">
<link rel="stylesheet" type="text/css" href="css/StudentSubject.css">
</head>
<body>
	<div class="wrap">
		<div id="header">
			<img id="img" alt="headerIMG" src="img/error.PNG" />
			<div id="wel-log" class="left">
				<div id="wel" class="left margin_top_40px">Welcome, Duy</div>
				<div class="vl left margin_top_40px margin_left_5"></div>
				<div id="log" class="left margin_top_40px margin_left_5">
					<a href="#">Logout</a>
				</div>
			</div>
		</div>
		<div class="navbar">
			<a href="#home">Home</a> <a class="active" href="#news">Subject</a> <a
				href="#contact">Student Profile</a>
		</div>

		<div class="Content">
			<div class="tab">
				<div id="demo"></div>
				<script>
					loadXMLDoc();
					function loadXMLDoc() {
						var xmlhttp = new XMLHttpRequest();
						xmlhttp.onreadystatechange = function() {
							if (this.readyState == 4 && this.status == 200) {
								myFunction(this);
							}
						};
						xmlhttp.open("GET", "data/Database.xml", true);
						xmlhttp.send();
					}
					function myFunction(xml) {
						var i;
						var xmlDoc = xml.responseXML;
						var tablinks = "";
						var x = xmlDoc.getElementsByTagName("Student");
						for (i = 0; i < x.length; i++) {
							if (x[i].getElementsByTagName("StudentID")[0].childNodes[0].nodeValue == "SE11111") {
								var y = x[i].getElementsByTagName("Subject");
								for (j = 0; j < y.length; j++) {
									var subjectName = y[j]
											.getElementsByTagName("SubjectName")[0].childNodes[0].nodeValue;
									if (j < 1) {
										tablinks += "<button class=\"tablinks\" onclick=\"openCity(event, '"
												+ subjectName
												+ "')\"id=\"defaultOpen\">"
												+ subjectName + "</button>";
									} else {
										tablinks += "<button class=\"tablinks\" onclick=\"openCity(event, '"
												+ subjectName
												+ "')\" >"
												+ subjectName + "</button>";
									}

								}
							}

						}
						document.getElementById("demo").innerHTML = tablinks;
					}
				</script>
			</div>
			<div id="cont"></div>
			<script>
				loadXMLDoc();
				function loadXMLDoc() {
					var xmlhttp = new XMLHttpRequest();
					xmlhttp.onreadystatechange = function() {
						if (this.readyState == 4 && this.status == 200) {
							myFunction1(this);
						}
					};
					xmlhttp.open("GET", "data/Database.xml", true);
					xmlhttp.send();
				}
				function myFunction1(xml) {
					var i;
					var xmlDoc = xml.responseXML;
					var tablinks = "";
					var x = xmlDoc.getElementsByTagName("Student");
					var z = xmlDoc.getElementsByTagName("Teacher");
					for (i = 0; i < x.length; i++) {
						if (x[i].getElementsByTagName("StudentID")[0].childNodes[0].nodeValue == "SE11111") {
							var y = x[i].getElementsByTagName("Subject");
							for (j = 0; j < y.length; j++) {
								var subjectName = y[j]
										.getElementsByTagName("SubjectName")[0].childNodes[0].nodeValue;
								var subjectID = y[j]
										.getElementsByTagName("SubjectID")[0].childNodes[0].nodeValue;
								var teacherID = y[j]
										.getElementsByTagName("TeacherID")[0].childNodes[0].nodeValue;
								var tName, tPhone, tMail;

								for (i = 0; i < z.length; i++) {
									if (z[i].getElementsByTagName("TeacherID")[0].childNodes[0].nodeValue == teacherID) {
										tName = z[i]
												.getElementsByTagName("TeacherName")[0].childNodes[0].nodeValue;
										tPhone = z[i]
												.getElementsByTagName("Phone")[0].childNodes[0].nodeValue;
										tMail = z[i]
												.getElementsByTagName("Mail")[0].childNodes[0].nodeValue;
										break;
									}
								}
								tablinks += "<div id=\""+subjectName+"\" class=\"tabcontent\"><div class=\"mark\">"
										+ "<div class=\"marktop\"><div class=\"subname\"><h1>"
										+ subjectID
										+ "</h1></div>"
										+ "<div class=\"teacherInf\"><p> Teacher Name : "
										+ tName
										+ "</p><p> Email    :"
										+ tPhone
										+ "</p><p> Phone    :"
										+ tMail
										+ "</p></div>"
										+ "</div><div class=\"marktb\">"
										+ "<table style=\"width:100%\"><tr><th>"
										+ "Grade ID</th><th>Weight</th><th>Value</th></tr>"
										+ "<tr><td>PT1</td><td>10%</td><td>"
										+ y[j].getElementsByTagName("PT1")[0].childNodes[0].nodeValue
										+ "</td></tr>"
										+ "<tr><td>PT2</td><td>10%</td><td>"
										+ y[j].getElementsByTagName("PT2")[0].childNodes[0].nodeValue
										+ "</td></tr>"
										+ "<tr><td>ASS</td><td>10%</td><td>"
										+ y[j].getElementsByTagName("ASS")[0].childNodes[0].nodeValue
										+ "</td></tr>"
										+ "<tr><td>FinalExam</td><td>10%</td><td>"
										+ y[j]
												.getElementsByTagName("FinalExam")[0].childNodes[0].nodeValue
										+ "</td></tr>"
										+ "<tr><td>TotalMark</td><td>10%</td><td>"
										+ y[j]
												.getElementsByTagName("TotalMark")[0].childNodes[0].nodeValue
										+ "</td></tr>"
										+ "</table></div></div></div>";
							}
						}

					}
					document.getElementById("cont").innerHTML = tablinks;
				}
			</script>

			<div id="Data warehouse" class="tabcontent">
				<div class="mark">
					<div class="marktop">
						<div class="subname">
							<h1>Subject ID</h1>
						</div>
						<div class="teacherInf">
							<p>a</p>
							<p>a</p>
							<p>a</p>
						</div>
					</div>
					<div class="marktb">
						<p>London is the capital city of England.</p>
					</div>
				</div>
			</div>

			<script>
				function openCity(evt, cityName) {
					var i, tabcontent, tablinks;
					tabcontent = document.getElementsByClassName("tabcontent");
					for (i = 0; i < tabcontent.length; i++) {
						tabcontent[i].style.display = "none";
					}
					tablinks = document.getElementsByClassName("tablinks");
					for (i = 0; i < tablinks.length; i++) {
						tablinks[i].className = tablinks[i].className.replace(
								" active", "");
					}
					document.getElementById(cityName).style.display = "block";
					evt.currentTarget.className += " active";
				}

				// Get the element with id="defaultOpen" and click on it
				document.getElementById("defaultOpen").click();
			</script>
		</div>
	</div>
</body>
</html>